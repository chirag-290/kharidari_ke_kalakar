<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="findjobs.css" />
  </head>

  <body>
    <div class="sidebar">
      <h1 class="logo">New Reality.</h1>
      <div class="menus">
        <a href="index.html" onclick="homefunc()"
          ><ion-icon name="home-outline"></ion-icon>Marketplace</a
        >
        <a href="findjobs.html"
          ><ion-icon name="newspaper-outline"></ion-icon>Categories</a
        >
        <a href="#"><ion-icon name="stats-chart-outline"></ion-icon>Price</a>
      </div>
      <div></div>
    </div>

    <div class="hero">
      <label for="input-file" id="drop-area">
        <input type="file" accept="image/*" id="input-file" hidden />

        <div id="img-view">
          <img src="508-icon.png" />
          <p>Drag and Drop or Click here<br />to upload image</p>
          <span>Upload any images from desktop</span>
        </div>
      </label>
    </div>

    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="google-vison-api.js"></script>
    <script src="script.js"></script>
  </body>
</html>

<!-- ***************************************************************** -->

<!-- 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="findjobs.css" />
  </head>
  <body>
    <div class="sidebar">
      <h1 class="logo">New Reality.</h1>
      <div class="menus">
        <a href="index.html" onclick="homefunc()"
          ><ion-icon name="home-outline"></ion-icon>Marketplace</a
        >
        <a href="findjobs.html"
          ><ion-icon name="newspaper-outline"></ion-icon>Categories</a
        >
        <a href="#"><ion-icon name="stats-chart-outline"></ion-icon>Price</a>
      </div>
      <div></div>
    </div>

    <div class="hero">
      <label for="input-file" id="drop-area">
        <input
          type="file"
          accept="image/*"
          id="input-file"
          hidden
          onchange="fetchImageURL(event)"
        />
        <div id="img-view">
          <img src="508-icon.png" />
          <p>Drag and Drop or Click here<br />to upload image</p>
          <span>Upload any images from desktop</span>
        </div>
      </label>
    </div>

    <script>
      function fetchImageURL(event) {
        const input = event.target;
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            const imageUrl = e.target.result;
            console.log("Uploaded image URL:", imageUrl);

            const { ImageAnnotatorClient } = require("@google-cloud/vision");
            const fs = require("fs");

            // Set the environment variable pointing to your service account key file
            process.env.GOOGLE_APPLICATION_CREDENTIALS =
              "shopcluehacathhon-b0de7ac55a8c.json";

            async function detectLabels(path) {
              // Creates a client
              const client = new ImageAnnotatorClient();

              // Reads the image file
              const content = fs.readFileSync(path);

              // Detects labels in the image
              const [result] = await client.labelDetection(
                Buffer.from(content)
              );
              const labels = result.labelAnnotations;

              console.log("Labels:");
              labels.forEach((label) => {
                console.log(label.description);
              });

              if (result.error && result.error.message) {
                throw new Error(
                  `${result.error.message}\nFor more info on error messages, check: https://cloud.google.com/apis/design/errors`
                );
              }
            }

            detectLabels("image1.jpg").catch((err) => {
              console.error("Error:", err);
            });

            // Here you can perform any action with the image URL
            // For example, you can send it to a server, display it somewhere, etc.
          };
          reader.readAsDataURL(input.files[0]);
        }
      }
    </script>
  </body>
</html> -->

<!-- **************************************************************** -->

<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="findjobs.css" />
  </head>
  <body>
    <div class="sidebar">
      <h1 class="logo">New Reality.</h1>
      <div class="menus">
        <a href="index.html" onclick="homefunc()"
          ><ion-icon name="home-outline"></ion-icon>Marketplace</a
        >
        <a href="findjobs.html"
          ><ion-icon name="newspaper-outline"></ion-icon>Categories</a
        >
        <a href="#"><ion-icon name="stats-chart-outline"></ion-icon>Price</a>
      </div>
      <div></div>
    </div>

    <div class="hero">
      <label for="input-file" id="drop-area">
        <input
          type="file"
          accept="image/*"
          id="input-file"
          hidden
          onchange="fetchImageURL(event)"
        />
        <div id="img-view">
          <img src="508-icon.png" />
          <p>Drag and Drop or Click here<br />to upload image</p>
          <span>Upload any images from desktop</span>
        </div>
      </label>
    </div>

    <script>
      async function fetchImageURL(event) {
        const input = event.target;
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          reader.onload = async function (e) {
            const imageUrl = e.target.result;
            console.log("Uploaded image URL:", imageUrl);
            await detectLabels(imageUrl);
          };
          reader.readAsDataURL(input.files[0]);
        }
      }

      async function detectLabels(imageUrl) {
        const requestBody = {
          requests: [
            {
              image: { source: { imageUri: imageUrl } },
              features: [{ type: "LABEL_DETECTION", maxResults: 5 }],
            },
          ],
        };

        try {
          const response = await fetch(
            "https://vision.googleapis.com/v1/images:annotate?key=" +
              (await getApiKey())
          );
          const data = await response.json();

          console.log("Labels:");
          data.responses[0].labelAnnotations.forEach((label) => {
            console.log(label.description);
          });
        } catch (error) {
          console.error("Error:", error);
        }
      }

      async function getApiKey() {
        // Fetch the API key from the JSON file
        const response = await fetch("shopcluehacathhon-b0de7ac55a8c.json");
        const jsonData = await response.json();
        return jsonData.private_key;
      }
    </script>
  </body>
</html> -->
